/*!
 * tui-editor
 * @version 1.1.0
 * @author NHN Ent. FE Development Lab <dl_javascript@nhnent.com> (https://nhnent.github.io/tui.editor/)
 * @license MIT
 */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("jquery"),function(){try{return require("tui-editor")}catch(e){}}(),function(){try{return require("tui-editor/dist/tui-editor-Viewer")}catch(e){}}(),require("tui-color-picker"));else if("function"==typeof define&&define.amd)define(["jquery","tui-editor","tui-editor/dist/tui-editor-Viewer","tui-color-picker"],t);else{var o="object"==typeof exports?t(require("jquery"),function(){try{return require("tui-editor")}catch(e){}}(),function(){try{return require("tui-editor/dist/tui-editor-Viewer")}catch(e){}}(),require("tui-color-picker")):t(e.$,e.tui&&e.tui.Editor,e.tui&&e.tui.Editor,e.tui&&e.tui.colorPicker);for(var r in o)("object"==typeof exports?exports:e)[r]=o[r]}}("undefined"!=typeof self?self:this,function(e,t,o,r){return function(e){function t(r){if(o[r])return o[r].exports;var n=o[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,r){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="dist/",t(t.s=44)}({0:function(t,o){t.exports=e},1:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=void 0;try{r=o(4)}catch(e){}if(!r)try{r=o(5)}catch(e){}t.default=r},4:function(e,o){if(void 0===t){var r=new Error('Cannot find module "undefined"');throw r.code="MODULE_NOT_FOUND",r}e.exports=t},44:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=e.options.colorSyntax,o=void 0===t?{}:t,r=o.preset,n=o.useCustomSyntax,l=void 0!==n&&n;e.eventManager.listen("convertorAfterMarkdownToHtmlConverted",function(e){return l?e.replace(h,function(e,t,o){return c(o,t).result}):e}),e.eventManager.listen("convertorAfterHtmlToMarkdownConverted",function(e){var t=l?b:x;return e.replace(t,function(e,t,o){return t.match(w)&&(t=a(t)),l?u(o,t).result:e.replace(/ ?class="colour" ?/g," ").replace(w,t)})}),e.isViewer()||"default"!==e.getUI().name||(e.addCommand("markdown",{name:"color",exec:function(e,t){var o=e.getEditor(),r=o.getCursor("from"),n=o.getCursor("to"),i=void 0,a=void 0;if(t){if(l){var s=u(o.getSelection(),t);i=s.result,a=s.from,o.replaceSelection(i)}else{var f=c(o.getSelection(),t);i=f.result,a=f.from,o.replaceSelection(i)}o.setSelection({line:r.line,ch:r.ch+a},{line:n.line,ch:r.line===n.line?n.ch+a:n.ch}),e.focus()}}}),e.addCommand("wysiwyg",{name:"color",exec:function(e,t){var o=e.getEditor();t&&(o.hasFormat("PRE")||(t===C?o.changeFormat(null,{class:"colour",tag:"span"}):o.setTextColour(t)),e.focus())}}),i(e,r))}function i(e,t){var o=e.i18n,r=e.getUI().getToolbar();e.eventManager.addEventType("colorButtonClicked"),r.insertItem(3,{type:"button",options:{name:"colorSyntax",className:"tui-color",event:"colorButtonClicked",tooltip:o.get("Text color")}});var n=r.indexOfItem("colorSyntax"),i=r.getItem(n),u=i.$el,c=(0,p.default)("<div />"),l=(0,p.default)('<button type="button" class="te-apply-button">'+o.get("OK")+"</button>"),a={container:c[0]};t&&(a.preset=t);var s=g.default.create(a),f=s.getColor();c.append(l);var d=e.getUI().createPopup({header:!1,title:!1,content:c,className:"tui-popup-color",$target:e.getUI().$el,css:{width:"auto",position:"fixed"}});e.eventManager.listen("focus",function(){d.hide()}),e.eventManager.listen("colorButtonClicked",function(){if(e.eventManager.emit("closeAllPopup"),d.isShow())d.hide();else{var t=u.offset();d.$el.css({top:t.top+u.outerHeight(),left:t.left}),d.show(),s.slider.toggle(!0)}}),e.eventManager.listen("closeAllPopup",function(){d.hide()}),e.eventManager.listen("removeEditor",function(){s.off("selectColor")}),s.on("selectColor",function(t){f=t.color,"palette"===t.origin&&(e.exec("color",f),d.hide())}),d.$el.find(".te-apply-button").on("click",function(){e.exec("color",f)})}function u(e,t){return l("{color:"+t+"}",e,"{color}")}function c(e,t){return l('<span style="color:'+t+'">',e,"</span>")}function l(e,t,o){return{result:""+e+t+o,from:e.length,to:e.length+t.length}}function a(e){return e.replace(w,function(e,t,o,r){return"#"+s(t)+s(o)+s(r)})}function s(e){var t=parseInt(e,10);return t=t.toString(16),t=f(t)}function f(e){var t="00"+e;return t.substr(t.length-2)}Object.defineProperty(t,"__esModule",{value:!0});var d=o(0),p=r(d),v=o(45),g=r(v),y=o(1),m=r(y),h=/\{color:(.+?)}(.*?)\{color}/g,x=/<span (?:class="colour" )?style="color:(.+?)"(?: class="colour")?>(.*?)/g,b=/<span (?:class="colour" )?style="color:(.+?)"(?: class="colour")?>(.*?)<\/span>/g,w=/rgb\((\d+)[, ]+(\d+)[, ]+(\d+)\)/g,C="#181818";m.default.defineExtension("colorSyntax",n),t.default=n},45:function(e,t){e.exports=r},5:function(e,t){if(void 0===o){var r=new Error('Cannot find module "undefined"');throw r.code="MODULE_NOT_FOUND",r}e.exports=o}})});